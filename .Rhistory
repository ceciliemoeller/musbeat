# library(Rcmdr)
earEEGtaps <- read.csv("C:/Users/au213911/Aarhus Universitet/Team Channel - Heidi Bliddal (RnD project)/Article/Polyrhythm/earEEGtaps.csv")
a<- earEEGtaps
# test<-a
#
#  test$Row <- replace(test$Row, startsWith(test$Row, '1C'), '01*')
#
#  test2<- a@Row %>%
#    select(contains("ar") | starts_with("c")) %>%
#    rename_with(toupper)
#
#  test <- a %>%
#    rename_all(.,~sub("condition*",
#                      paste(""),
#                      names(a)))
#
a$cond<-as.factor(a$cond)
a$subj<-as.factor(a$subj)
a<-a%>%
select(-Row)
# make long format
along<-a %>% gather(key = "trial", value = "category",3,4,5,6,7,8,9,10,11,12,13,14,15,16,17)
awide<-a %>% pivot_wider(names_from = c(cond), names_sep = "_", values_from = c(3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,17))
#
# # Rcmdr did this
#
# local({
#   .Table <- xtabs(~category+cond, data=along, subset=subj)
#   cat("\nFrequency table:\n")
#   print(.Table)
#   .Test <- chisq.test(.Table, correct=FALSE)
#   print(.Test)
# })
#
my_theme = theme(
axis.title.x = element_text(size = 10),
axis.text.x = element_text(size = 10),
axis.title.y = element_text(size = 10))
my_vert_theme = my_theme +
theme(axis.text.x = element_text(size = 8, angle = 270))
my_facet_theme = my_theme +
theme(strip.text.x = element_text(size = 16))
my_facet_vert_theme = my_facet_theme+
theme(axis.text.x = element_text(size = 14, angle = 270))
# along%>%
along[along$subj!=11&along$subj!=6,]%>%
ggplot()+
my_vert_theme+
scale_y_continuous(breaks = seq(0, 250, 5))+
geom_bar(mapping=aes(x=category, fill=cond), width=0.8)+
facet_wrap(~cond)
along%>%
# along[along$subj!=11&along$subj!=6,]%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 220, 10))+
geom_bar(mapping=aes(x=cond, fill=category), width=.8, position = "dodge")
along%>%
# along[along$subj!=11&along$subj!=6,]%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 15, 5))+
geom_bar(mapping=aes(x=cond, fill=category), width=.5, position = "dodge")+
facet_wrap(~subj, ncol=5)
along%>%
# along[along$subj!=11&along$subj!=6,]%>%
ggplot()+
geom_bar(mapping=aes(x=cond, fill=category), width=.8, position = "fill")
#
# a%>%
#   ggplot()+
#   geom_bar(mapping=aes(x=Cond, color= Trial3), size=6)
#
#  a$subj<-a$Row
#  a$cond<-a$Row
#
#  a%>%
#    group_by(Cond)%>%
#  summarise(n=n())
#
#
#  a$twobeat_count<-summarise(n(a$Trial1 == 2.25))
#
#
#  b <- data.frame(id=numeric(),
#                   cond=character(),
#                   stringsAsFactors=F)
#    a$id=1:nrow(a)
#    c<-cbind(a, b)
#
#   a[2:length(earEEGtaps)]<-earEEGtaps
# a[participant]<-1-length(a)
#
#
#     b$id=1:nrow(a)
#
#     hej<-data.frame(id=numeric(),
#                     cond=character(),
#                     stringsAsFactors=F)
#
# hej[1:21,]<-a[,]
# rm(hej)
#
# a$ja<-a$Row
Log_under_forsoeg_3 <- read.csv2("C:/Users/au213911/OneDrive - Aarhus universitet/Projects_current/HeidiEarEEG/Log_under_forsoeg_3.csv")
View(Log_under_forsoeg_3)
a<-Log_under_forsoeg_3
a[c(2,3,5,7,8,10,12,16,17,18),]
b<-a[c(2,3,5,7,8,10,12,16,17,18),]
View(b)
a[a$id_code == c(2,3,5,7,8,10,12,16,17,18),]
a[a$id_code == c(2,3,5,7,8,10,12,16,17,18),]
b<-a[a$id_code == c(2,3,5,7,8,10,12,16,17,18),]
View(Log_under_forsoeg_3)
View(b)
b<-select(a$id_code == c(2,3,5,7,8,10,12,16,17,18),)
# INITIALIZE
library(jsonlite)
library(dplyr)
library(ggplot2)
b<-select(a$id_code == c(2,3,5,7,8,10,12,16,17,18),)
b<-select(a$id_code == c("2","3","5","7","8"","10","12","16","17","18"),)
b<-select(a$id_code == c("2","3","5","7","8","10","12","16","17","18"),)
b<-filter(a$id_code == c("2","3","5","7","8","10","12","16","17","18"),)
?filter''
?filter
filter(a,id_code == c("2", "3", "5", "7", "8", "10", "12", "16", "17","18"))
c<-filter(a,id_code == c("2", "3", "5", "7", "8", "10", "12", "16", "17","18"))
a%>%
b<-Log_under_forsoeg_3
b<-Log_under_forsoeg_3
class(b)
class(b$id_code)
b$id_code<-as.factor(b$id_code)
class(b$id_code)
primed<- c("2", "3", "5", "7", "8", "10", "12", "16", "17", "18")
primed<- c("2", "3", "5", "6, 7", "8", "10", "12", "16", "17", "18")
c<-b%>%
filter(id_code %in% primed)
View(c)
primed<- c("2", "3", "5", "6, 7", "8", "10", "12", "16", "17", "18")
c<-b%>%
filter(id_code %in% primed)
primed<- c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")
c<-b%>%
filter(id_code %in% primed)
View(c)
View(c)
View(c)
not_primed <- c("1","4","9","14","15", "11")
d<-b%>%
filter(id_code %in% not_primed)
not_primed <- c("1","4","9","13","15", "11")
not_primed <- c("1","4","9","11","13","15", )
not_primed <- c("1","4","9","11","13","15")
d<-b%>%
filter(id_code %in% not_primed)
View(d)
2/6
View(c)
3/11
8/11
my_theme = theme(
axis.title.x = element_text(size = 10),
axis.text.x = element_text(size = 10),
axis.title.y = element_text(size = 10))
my_vert_theme = my_theme +
theme(axis.text.x = element_text(size = 8, angle = 270))
View(a)
a%>%
ggplot()+
geom_bar(mapping=aes(x=Counter.program))
View(a)
dataf2 <- data.frame(Type = c("Fruit","Fruit","Fruit","Fruit","Fruit",
"Vegetable", "Vegetable", "Vegetable", "Vegetable", "Fruit"),
Name = c("Red Apple","Strawberries","Orange","Watermelon","Papaya",
"Carrot","Tomato","Chili","Cucumber", "Green Apple"),
Color = c(NA, "Red", "Orange", "Red", "Green",
"Orange", "Red", "Red", "Green", "Green"))
dataf2 <- within(dataf2, {
Red_Fruit = "No"
Red_Fruit[Type %in% c("Fruit")] = "No"
Red_Fruit[Type %in% "Vegetable"] = "No"
Red_Fruit[Name %in% c("Red Apple", "Strawberries", "Watermelon", "Chili", "Tomato")] = "Yes"
})
View(dataf2)
View(dataf2)
View(dataf2)
e <- within(a, {
paradigm_success = "No"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Yes"
})
View(e)
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
View(e)
View(a)
e <- within(a, {
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Not primed"
# paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
})
View(e)
View(e)
rm(e)
e <- within(a, {
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Not primed"
# paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
})
e$paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Not primed"
a <- within(a, {
a$paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Not primed"
# paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
})
View(a)
View(a)
View(a)
b<-Log_under_forsoeg_3
b$id_code<-as.factor(b$id_code)
primed<- c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")
not_primed <- c("1","4","9","11","13","15")
c<-b%>%
filter(id_code %in% primed)
d<-b%>%
filter(id_code %in% not_primed)
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
View(b)
paradigm_success = "?"
b <- within(b, {
paradigm_success = "?"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Not primed"
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
})
View(b)
b%>%
ggplot()+
geom_bar(mapping=aes(x=Counter.program, fill=paradigm_success))
b <- within(b, {
presentation_order = "?"
presentation_order[Counter.program %in% c("1", "3")] = "3-beat first"
presentation_order[id_code %in% c("2","4")] = "2-beat first"
})
View(b)
presentation_order[Counter.program  %in% c("2","4")] = "2-beat first"
rm(b)
b<-Log_under_forsoeg_3
b$id_code<-as.factor(b$id_code)
b <- within(b, {
paradigm_success = "?"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Not primed"
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Primed"
})
presentation_order = "?"
presentation_order[Counter.program %in% c("1", "3")] = "3-beat first"
presentation_order[Counter.program  %in% c("2","4")] = "2-beat first"
b <- within(b, {
presentation_order = "?"
presentation_order[Counter.program %in% c("1", "3")] = "3-beat first"
presentation_order[Counter.program  %in% c("2","4")] = "2-beat first"
})
View(b)
b%>%
ggplot()+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b[omit.na()%>%
b[omit.na()]%>%
ggplot()+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b[omit.na()]%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b[omit.na()]%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 2, 10))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 2, 10))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b <- within(b, {
paradigm_success = "?"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Primed"
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Not Primed"
})
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b<-b[1:20,]
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14))
b
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
8/10
3/7
View(b)
b <- within(b, {
paradigm_success = "?"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Primed"
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Not Primed/Indistinguishable"
})
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Not Primed / Indistinguishable"
b <- within(b, {
paradigm_success = "?"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Primed"
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Not Primed / Indistinguishable"
})
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
b <- within(b, {
paradigm_success = "?"
paradigm_success[id_code %in% c("2", "3", "5", "6", "7", "8", "10", "12", "16", "17", "18")] = "Primed"
paradigm_success[id_code %in% c("1","4","9","11","13","15")] = "Not primed / Indistinguishable"
})
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
#
# a%>%
?axisTicks
?aes
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 24),
axis.title.y = element_text(size = 14)),
my_vert_theme = my_theme +
theme(axis.text.x = element_text(size = 8, angle = 270))
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 24),
axis.title.y = element_text(size = 14))
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.text.y = element_text(size = 24))
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.text.y = element_text(size = 14))
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.text.y = element_text(size = 14))
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14),
legend.title = element_text(size=14),
axis.text.y = element_text(size = 14))
#HOW SUCCESSFUL WAS THE PRIMING?
b%>%
ggplot()+
my_theme+
scale_y_continuous(breaks = seq(0, 10, 2))+
geom_bar(mapping=aes(x=presentation_order, fill=paradigm_success))
shiny::runApp(".")
setwd("~/musbeat")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
source('~/musbeat/app.R', encoding = 'UTF-8')
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
n29 <- readRDS("C:/Users/au213911/Documents/musbeat/output/results/id=29&p_id=0ab9a4926ba6715f925f7463fe956b972a4826ff05951ec6a4ee37baa464122d&save_id=2&pilot=false&complete=true.rds")
View(n29)
View(n29)
shiny::runApp(".")
n30 <- readRDS("C:/Users/au213911/Documents/musbeat/output/results/id=30&p_id=288ff01e5199e32bdbfd27b7767eb0c5a769d6c236c69d864c6942a3c0f69f91&save_id=4&pilot=false&complete=true.rds")
View(n30)
View(n30)
shiny::runApp(".")
n31 <- readRDS("C:/Users/au213911/Documents/musbeat/output/results/id=31&p_id=57618d7c370ed1189c0a7f8c5c2d2c312612cb404da53484cee044c56938d054&save_id=3&pilot=false&complete=true.rds")
View(n31)
View(n31)
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
View(n29)
View(n29)
View(n29)
View(n29)
View(n31)
shiny::runApp(".")
`id=39&p_id=51e0c71477674950b2606cf2f563d573b0e9377695eab0decc97ab2a4b7a4bf3&save_id=6&pilot=false&complete=true` <- readRDS("C:/Users/au213911/Documents/musbeat/output/results/id=39&p_id=51e0c71477674950b2606cf2f563d573b0e9377695eab0decc97ab2a4b7a4bf3&save_id=6&pilot=false&complete=true.rds")
View(hours_instrument_3)
View(hours_instrument_3)
View(`id=39&p_id=51e0c71477674950b2606cf2f563d573b0e9377695eab0decc97ab2a4b7a4bf3&save_id=6&pilot=false&complete=true`)
View(n31)
View(n31)
View(n30)
View(n30)
View(n30)
shiny::runApp(".")
n40 <- readRDS("C:/Users/au213911/Documents/musbeat/output/results/id=40&p_id=83a8cb3969d6555f297cbc6e172e87770542581d6c599debcddda9a472547927&save_id=8&pilot=false&complete=true.rds")
View(n40)
n40$poly_pitch
n40$results$poly_pitch
library(jsonlite)
jsdata<- fromJSON(n40$$results$poly_pitch)
jsdata<- fromJSON(n40$results$poly_pitch)
View(jsdata)
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
setwd("~/musbeat")
